
Usuario(id integer PRIMARY KEY, nombre varchar(30), sexo varchar(9), edad integer, dirección varchar(30), correo varchar(30), nacionalidad varchar(15))

TiendaProductos(id integer PRIMARY KEY, varchar(30), nombre varchar(30), ubicacion varchar(30), teléfono integer, correo varchar(30), rubro varchar(15)) 

TiendaServicios(id integer PRIMARY KEY, varchar(30), nombre varchar(30), ubicacion varchar(30), teléfono integer, correo varchar(30), rubro varchar(15), horario time)

Producto(id integer PRIMARY KEY, nombre varchar(30), precio integer, descripción varchar(30), tipo varchar(15))

Servicio(id integer PRIMARY KEY, nombre varchar(30), precio integer, descripción varchar(30), tipo varchar(15))

ProductoComprado(id integer PRIMARY KEY, id_compra integer, id_producto integer, id_tienda_productos)

ServicioComprado(id integer PRIMARY KEY, id_compra integer, id_servicio integer, id_tienda_servicios, fecha_limite date)

Compra(id integer PRIMARY KEY, fecha date, id_usuario integer, review varchar(30))



Consultas

\textbf{1)}

%Se obtiene el id del comprador
a = \sigma_{nombre = nombre\_usuario}(\pi_{nombre}(Usuario))

%Se obtiene tabla con los ids de las compras del comprador
b = \pi_{id}(\sigma_{id\_usuario = a}(compras))

%Se obtiene los ids de las tiendas de las compras
c1 = \pi_{id\_tienda\_productos}(\bowtie_{b.id = ProductoComprado.id\_compra})

c2 = \pi_{id\_tienda\_servicios}(\bowtie_{b.id = ServicioComprado.id\_servicio})

%Se obtienen los nombres de las tiendas
d = \pi_{nombre} ((c1 \bowtie_{c.id\_tienda = c1.id\_tienda\_productos} TiendaProductos) \bigcup (c2 \bowtie_{c.id\_tienda = c1.id\_tienda\_servicios} TiendaServicios))






